<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="Restaurant">
	<select id="selectAll" resultType="recoder.single.bangle.restaurant.DTO.RestaurantDTO">
		select * from restaurant order by seq desc
	</select>
	
	<insert id="insert" parameterType="recoder.single.bangle.restaurant.DTO.RestaurantDTO">
		insert into restaurant values (restaurant_seq.nextval, #{writer}, #{title}, sysdate, 0, 'N')
	</insert>
	
	<select id="getMaxSeq" resultType="Integer">
		select max(seq) from restaurant where writer = #{writer}
	</select>
	
	<update id="updateViewCount" parameterType="Integer">
		update restaurant set viewCount = viewCount + 1 where seq = #{seq}
	</update>
	
	<select id="selectBySeq" resultType="recoder.single.bangle.restaurant.DTO.RestaurantDTO">
		select * from restaurant where seq = #{seq}
	</select>
	
	<update id="update" parameterType="recoder.single.bangle.restaurant.DTO.RestaurantDTO">
		update restaurant set title = #{title} where seq = #{seq}
	</update>
	
	<delete id="delete" parameterType="Integer">
		delete from restaurant where seq = #{seq}
	</delete>
</mapper>